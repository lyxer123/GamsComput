# ================== 集合定义 ==================
set T := 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24;
set S := s1 s2 s3;
set F := f1 f2;

# ================== 通用参数 ==================
param deltaT := 1;
param T_ref := 22;

# ================== 温度参数 ==================
param T_actual :=
1 1 20  1 2 19  1 3 18  1 4 17  1 5 17  1 6 18  
1 7 20  1 8 23  1 9 25  1 10 27 1 11 28 1 12 29  
1 13 28 1 14 26 1 15 24 1 16 22 1 17 21 1 18 20  
1 19 19 1 20 18 1 21 17 1 22 16 1 23 15 1 24 14

2 1 22  2 2 21  2 3 20  2 4 19  2 5 18  2 6 19  
2 7 21  2 8 24  2 9 26  2 10 28 2 11 30 2 12 31  
2 13 30 2 14 28 2 15 26 2 16 24 2 17 23 2 18 22  
2 19 21 2 20 20 2 21 19 2 22 18 2 23 17 2 24 16

3 1 24  3 2 23  3 3 22  3 4 21  3 5 20  3 6 21  
3 7 23  3 8 26  3 9 28  3 10 30 3 11 32 3 12 33  
3 13 32 3 14 30 3 15 28 3 16 26 3 17 25 3 18 24  
3 19 23 3 20 22 3 21 21 3 22 20 3 23 19 3 24 18;

# ================== ESS参数 ==================
param eta_ESS_charge :=
1 0.9
2 0.9
3 0.9;

param ESS_charge_rate :=
1 0.6
2 0.6
3 0.6;

param ESS_discharge_rate :=
1 0.6
2 0.6
3 0.6;

param SOC_ESS_initial :=
1 2.4
2 1.8
3 3.0;

param SOC_ESS_max :=
1 3.0
2 3.0
3 3.0;

param SOC_ESS_min :=
1 1.2
2 1.2
3 1.2;

# ================== EV参数 ==================
param eta_EV_charge :=
1 0.9
2 0.9
3 0.9;

param eta_EV_discharge :=
1 0.9
2 0.9
3 0.9;

param EV_charge_rate :=
1 0.6
2 0.6
3 0.6;

param EV_discharge_rate :=
1 0.6
2 0.6
3 0.6;

param SOC_EV_initial :=
1 2.0
2 1.5
3 2.5;

param SOC_EV_max :=
1 4.0
2 4.0
3 4.0;

param SOC_EV_min :=
1 0.8
2 0.8
3 0.8;

param EV_arrival :=
1 18
2 16
3 20;

param EV_departure :=
1 8
2 6
3 10;

# ================== 光伏功率 ==================
param P_PV :=
1 1 7.2   1 2 10.8   1 3 13.5  1 4 18.0  1 5 22.5
1 6 27.0  1 7 36.0  1 8 45.0  1 9 49.5  1 10 54.0
1 11 45.0 1 12 40.5 1 13 36.0 1 14 31.5 1 15 27.0
1 16 18.0 1 17 13.5 1 18 0.0   1 19 0.0   1 20 0.0
1 21 0.0   1 22 0.0   1 23 0.0   1 24 0.0

2 1 1.5   2 2 2.4   2 3 3.6   2 4 4.5   2 5 6.0
2 6 7.5   2 7 9.0   2 8 10.5  2 9 12.0  2 10 13.5
2 11 12.0 2 12 10.5 2 13 9.0  2 14 7.5  2 15 6.0
2 16 4.5  2 17 3.0  2 18 0.0   2 19 0.0   2 20 0.0
2 21 0.0   2 22 0.0   2 23 0.0   2 24 0.0

3 1 16.8   3 2 25.2   3 3 31.5   3 4 42.0   3 5 52.5
3 6 63.0   3 7 84.0   3 8 105.0  3 9 115.5  3 10 126.0
3 11 105.0 3 12 94.5  3 13 84.0  3 14 73.5  3 15 63.0
3 16 42.0  3 17 31.5  3 18 0.0    3 19 0.0    3 20 0.0
3 21 0.0    3 22 0.0    3 23 0.0    3 24 0.0;

# ================== 不可调负载 ==================
param InfLoad :=
1 1 10.0   1 2 9.5    1 3 9.0    1 4 8.5    1 5 8.0
1 6 15.0   1 7 20.0   1 8 25.0   1 9 28.0   1 10 30.0
1 11 25.0  1 12 22.0  1 13 20.0  1 14 18.0  1 15 15.0
1 16 20.0  1 17 25.0  1 18 30.0  1 19 28.0  1 20 25.0
1 21 20.0  1 22 15.0  1 23 12.0  1 24 10.0

2 1 5.0    2 2 5.0    2 3 5.0    2 4 5.0    2 5 5.0
2 6 30.0   2 7 50.0   2 8 60.0   2 9 70.0   2 10 80.0
2 11 75.0  2 12 70.0  2 13 65.0  2 14 60.0  2 15 55.0
2 16 40.0  2 17 30.0  2 18 20.0  2 19 10.0  2 20 5.0
2 21 5.0   2 22 5.0   2 23 5.0   2 24 5.0

3 1 20.0   3 2 18.0   3 3 15.0   3 4 12.0   3 5 10.0
3 6 40.0   3 7 60.0   3 8 80.0   3 9 100.0  3 10 120.0
3 11 110.0 3 12 100.0 3 13 90.0  3 14 80.0  3 15 70.0
3 16 60.0  3 17 50.0  3 18 40.0  3 19 30.0  3 20 20.0
3 21 15.0  3 22 12.0  3 23 10.0  3 24 8.0;

# ================== 电价参数 ==================
param energy_price_buy :=
1 100   2 120   3 110   4 105   5 130   6 140   7 150   8 160
9 140   10 130  11 120  12 110  13 100  14 95   15 90   16 85
17 100  18 120  19 140  20 160  21 150  22 130  23 110  24 100;

param energy_price_sell :=
1 80    2 90    3 85    4 75    5 95    6 105   7 115   8 125
9 110   10 100  11 90   12 80   13 70   14 65   15 60   16 55
17 70   18 80   19 90   20 100  21 90   22 80   23 70   24 60;

# ================== 设备阶段参数 ==================
param phase_duration :=
1 'HVAC' f1 2   1 'HVAC' f2 3
1 'WM'   f1 1   1 'WM'   f2 2
1 'DW'   f1 2   1 'DW'   f2 1

2 'HVAC' f1 3   2 'HVAC' f2 2
2 'WM'   f1 1   2 'WM'   f2 1
2 'DW'   f1 2   2 'DW'   f2 1

3 'HVAC' f1 2   3 'HVAC' f2 4
3 'WM'   f1 1   3 'WM'   f2 3
3 'DW'   f1 3   3 'DW'   f2 2;

param P_consumption :=
1 'HVAC' f1 1.5   1 'HVAC' f2 2.0
1 'WM'   f1 0.8   1 'WM'   f2 1.2
1 'DW'   f1 1.0   1 'DW'   f2 0.5

2 'HVAC' f1 2.0   2 'HVAC' f2 2.5
2 'WM'   f1 1.0   2 'WM'   f2 1.5
2 'DW'   f1 1.2   2 'DW'   f2 0.6

3 'HVAC' f1 2.5   3 'HVAC' f2 3.0
3 'WM'   f1 1.5   3 'WM'   f2 2.0
3 'DW'   f1 1.8   3 'DW'   f2 1.0;